{% extends "dashboards/_dashboard_base.html" %}
{% load static %}
{% block title %}Dataset Dashboard{% endblock %}
{% block description %}Here you can view all the SDC datasets{% endblock %}

{% block dashboard %}
    <div class="w-full p-10 bg-base-100 rounded-lg shadow-md">
        <div class="flex flex-col flex-wrap gap-3 sm:flex-row sm:items-center sm:justify-between">
            <label class="input-group max-w-xs">
              <span class="input-group-text">
                <span class="icon-[tabler--search] size-6"></span>
              </span>
                <input type="search" class="input grow" placeholder="Search" />
            </label>
        </div>

        <div class="mt-8 overflow-x-auto">
            <table class="table">
                <!-- head -->
                <thead>
                <tr>
                    <th>dataset_id</th>
                    <th>published_at</th>
                    <th>filename</th>
                    <th>period</th>
                    <th>schema_version</th>
                    <th>survey_id</th>
                </tr>
                </thead>
                <tbody>
                    
                    {% for dataset in datasets %}
                        <tr>
                            <td>
                                {{ dataset.dataset_id }}
                            </td>
                            <td class="text-nowrap">{{ dataset.published_at }}</td>
                            <td>
                                <a href="#" class="link link-primary">{{ dataset.filename }}</a>
                            </td>
                            <td>{{ dataset.period }}</td>
                            <td>
                                {% if dataset.schema_version == 'v2' %}
                                    <span class="badge badge-success text-xs">{{ dataset.schema_version }}</span>
                                {% else %}
                                    <span class="badge badge-warning text-xs">{{ dataset.schema_version }}</span>
                                {% endif %}
                            </td>
                            <td>
                                {{ dataset.survey_id }}
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="flex flex-wrap items-center justify-between gap-2 py-4 pt-6">
            <div class="me-2 block max-w-sm text-sm font-normal text-gray-500 sm:mb-0">
                Showing
                <span class="font-semibold text-gray-900">1-4</span>
                of
                <span class="font-semibold">20</span>
                datasets
            </div>
            <nav class="join">
                <button type="button" class="btn btn-soft btn-square join-item" aria-label="previous button">
                    <span class="icon-[tabler--chevron-left] size-5 rtl:rotate-180"></span>
                </button>
                <button type="button" class="btn btn-soft join-item btn-square aria-[current='page']:text-bg-primary">1</button>
                <button type="button" class="btn btn-soft join-item btn-square aria-[current='page']:text-bg-primary" aria-current="page" >
                    2
                </button>
                <button type="button" class="btn btn-soft join-item btn-square aria-[current='page']:text-bg-primary">3</button>
                <button type="button" class="btn btn-soft btn-square join-item" aria-label="next button">
                    <span class="icon-[tabler--chevron-right] size-5 rtl:rotate-180"></span>
                </button>
            </nav>
        </div>
    </div>

{% endblock dashboard %}
